<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MMCM Chalkboard | TLA Overview</title>

    <!-- Material Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- Global colour variables -->
    <link rel="stylesheet" href="/common/css/variables.css">

    <!-- Page styles -->
    <link rel="stylesheet" href="/TLA/css/tlaOverview.css">
</head>
<body>

    <%- include('../partials/sideMenuBar') %>

    <main class="main-content">

        <!-- ================================================ -->
        <!--  COURSE BANNER                                   -->
        <!-- ================================================ -->
        <div class="course-banner">
            <button class="back-btn" onclick="window.location.href='/institution'">
                <span class="material-symbols-outlined">arrow_back_ios</span>
                Back
            </button>
            <div class="banner-overlay"></div>
            <h2 class="banner-course-title">LIFE AND WORKS OF MAMBO</h2>
        </div>

        <!-- ================================================ -->
        <!--  MAIN GRID (modules left | info panel right)    -->
        <!-- ================================================ -->
        <div class="overview-grid">

            <!-- ============ LEFT: MODULE CARDS ============ -->
            <div class="modules-column">

                <!-- ---- SYLLABUS ACCORDION CARD ---- -->
                <div class="module-card">
                    <div class="module-card-header" onclick="toggleModule('syllabus')">
                        <div class="module-icon-wrap">
                            <img
                                src="/TLA/images/syllabus_bk.png"
                                alt="Syllabus"
                                class="module-icon"
                                onerror="this.onerror=null;this.style.display='none';this.parentElement.style.background='#5b7a9f';"
                            >
                        </div>
                        <div class="module-info">
                            <h3 class="module-title">SYLLABUS</h3>
                            <p class="module-desc">description here</p>
                            <a class="module-start-link" href="/syllabus">Start &#x2192;</a>
                        </div>
                        <div class="module-header-status">
                            STATUS:&nbsp;<span class="sts-label sts-not-started">NOT GETTING STARTED</span>
                        </div>
                        <span class="module-chevron material-symbols-outlined" id="syllabus-chevron">expand_more</span>
                    </div>

                    <div class="module-body" id="syllabus-body">
                        <a class="form-item" href="/syllabus">
                            <span class="form-dot dot-gray"></span>
                            <span class="material-symbols-outlined fi-folder">folder</span>
                            <span class="fi-name">SYLLABUS FORM</span>
                            <span class="fi-status sts-not-started">STATUS:&nbsp;<strong>NOT GETTING STARTED</strong></span>
                        </a>
                        <a class="form-item" href="/syllabus">
                            <span class="form-dot dot-orange"></span>
                            <span class="material-symbols-outlined fi-folder">folder</span>
                            <span class="fi-name">SYLLABUS FORM</span>
                            <span class="fi-status sts-pending">STATUS:&nbsp;<strong>PENDING</strong></span>
                        </a>
                        <a class="form-item" href="/syllabus">
                            <span class="form-dot dot-green"></span>
                            <span class="material-symbols-outlined fi-folder">folder</span>
                            <span class="fi-name">SYLLABUS FORM</span>
                            <span class="fi-status sts-approved">STATUS:&nbsp;<strong>APPROVED</strong></span>
                        </a>
                        <a class="form-item" href="/syllabus">
                            <span class="form-dot dot-red"></span>
                            <span class="material-symbols-outlined fi-folder">folder</span>
                            <span class="fi-name">SYLLABUS FORM</span>
                            <span class="fi-status sts-rejected">STATUS:&nbsp;<strong>REJECTED</strong></span>
                        </a>
                    </div>
                </div><!-- end syllabus card -->

                <!-- ---- TLA ACCORDION CARD ---- -->
                <div class="module-card">
                    <div class="module-card-header" onclick="toggleModule('tla')">
                        <div class="module-icon-wrap">
                            <img
                                src="/TLA/images/tla_bk.png"
                                alt="TLA"
                                class="module-icon"
                                onerror="this.onerror=null;this.style.display='none';this.parentElement.style.background='#c0547c';"
                            >
                        </div>
                        <div class="module-info">
                            <h3 class="module-title">TLA</h3>
                            <p class="module-desc">description here</p>
                            <a class="module-start-link" href="/tla/form">Start &#x2192;</a>
                        </div>
                        <div class="module-header-status">
                            STATUS:&nbsp;<span class="sts-label sts-not-started">NOT GETTING STARTED</span>
                        </div>
                        <span class="module-chevron material-symbols-outlined" id="tla-chevron">expand_more</span>
                    </div>

                    <div class="module-body" id="tla-body">
                        <%
                            const weekStatuses = [
                                'approved',     // Week  1
                                'pending',      // Week  2
                                'not-started',  // Week  3
                                'not-started',  // Week  4
                                'not-started',  // Week  5
                                'not-started',  // Week  6
                                'not-started',  // Week  7
                                'not-started',  // Week  8
                                'not-started',  // Week  9
                                'not-started',  // Week 10
                                'not-started',  // Week 11
                                'not-started',  // Week 12
                                'not-started',  // Week 13
                                'not-started'   // Week 14
                            ];
                            const statusText = {
                                'approved':    'APPROVED',
                                'pending':     'PENDING',
                                'not-started': 'NOT GETTING STARTED',
                                'rejected':    'REJECTED'
                            };
                            const dotClass = {
                                'approved':    'dot-green',
                                'pending':     'dot-orange',
                                'not-started': 'dot-gray',
                                'rejected':    'dot-red'
                            };
                        %>
                        <% for (let w = 0; w < 14; w++) { %>
                        <a class="form-item" href="/tla/form">
                            <span class="form-dot <%= dotClass[weekStatuses[w]] %>"></span>
                            <span class="material-symbols-outlined fi-folder">folder</span>
                            <span class="fi-name">Week <%= w + 1 %> &mdash; TLA Form</span>
                            <span class="fi-status sts-<%= weekStatuses[w] %>">STATUS:&nbsp;<strong><%= statusText[weekStatuses[w]] %></strong></span>
                        </a>
                        <% } %>
                    </div>
                </div><!-- end tla card -->

            </div><!-- end .modules-column -->

            <!-- ============ RIGHT: INFO PANEL ============ -->
            <div class="info-panel">

                <div class="panel-avatar-wrap">
                    <img
                        src="/common/img/default-avatar.jpg"
                        alt="User Avatar"
                        class="panel-avatar"
                        onerror="this.onerror=null;this.style.display='none';this.parentElement.style.background='#ccc';"
                    >
                </div>

                <p class="panel-username">Emmy Grace Requillo</p>

                <!-- INFORMATION -->
                <div class="panel-section">
                    <h4 class="panel-section-title">INFORMATION</h4>
                    <div class="panel-info-row"><span class="pi-key">COURSE CODE:</span> SS067</div>
                    <div class="panel-info-row"><span class="pi-key">COURSE NAME:</span> Life and Works of Mambo</div>
                    <div class="panel-info-row"><span class="pi-key">COURSE SECTION:</span> A301</div>
                    <div class="panel-info-row"><span class="pi-key">ACADEMIC YEAR:</span> 2025-2026</div>
                    <div class="panel-info-row"><span class="pi-key">ACADEMIC TERM:</span> 2nd Semestral</div>
                </div>

                <!-- COURSE SCHEDULE -->
                <div class="panel-section">
                    <h4 class="panel-section-title">COURSE SCHEDULE</h4>
                    <div class="schedule-card">
                        <span class="material-symbols-outlined sched-icon">schedule</span>
                        <div class="sched-details">
                            <p class="sched-primary">9:00 AM &ndash; 11:25 AM</p>
                            <p class="sched-sub">Monday / Wednesday / Friday</p>
                            <p class="sched-sub">7:00 AM &ndash; 9:11 AM</p>
                        </div>
                        <span class="material-symbols-outlined sched-arrow">chevron_right</span>
                    </div>
                </div>

            </div><!-- end .info-panel -->

        </div><!-- end .overview-grid -->

    </main>

    <script src="/TLA/js/tlaOverview.js"></script>
</body>
</html>
